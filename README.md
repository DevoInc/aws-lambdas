# CREATING AN AWS LAMBDA FUNCTION TO SEND DATA FROM AN S3 BUCKET TO DEVO

The files in this ZIP are needed in order to create the Lambda function that will send events in an S3 bucket 
to your Devo domain. Follow the instructions in:
https://docs.devo.com/confluence/ndt/sending-data-to-devo/event-sources/cloud-services/aws-s3-buckets
If this above link fails, go to https://docs.devo.com and search for "Lambda".

## About lambda_function.py

This is a python script designed to make AWS Lambda listen for changes in an
AWS S3 bucket and send the events to Devo. This script can be used to send any
kind of event to Devo.


## About config.json.example

This configuration file contains the details that identify the destination Devo
domain and therefore must be customized for your environment. It contains the following parameters:

* sender:
    * address: "us.elb.relay.logtrust.net"
    * port: 443
    * chain: "chain.crt"
    * cert: "domaincert.crt"
    * key: "domainkey.key"
* tag: table/tag of Devo data destiny

Once you have customized this file, save it as config.json for example.


### Devo tags
You should assign the Devo tag that corresponds to the technology that generated the events you are sending to Devo.
Consult the full list here: https://docs.devo.com/confluence/ndt/supported-technologies/list-of-supported-technologies

There are Devo tags for events generated by two Amazon services.
The first four levels of these tags are fixed and the final two levels should be
assigned so as to identify the specific event source. These two levels will appear
in the region and instance columns of the resulting data table in Devo.

| Technology             | Tag                                                      |
|------------------------|----------------------------------------------------------|
| Cloud Front            | web.aws.cloudfront.access-w3c.<region>.<instance>        |
| Elastic Load Balancing | web.aws.elb.access.<region>.<instance>                   |

Example: web.aws.elb.access.eu-west-1.pro-frontend-elb

In the case that there is no Devo tag that corresponds to the event's technology, you can assign
a tag that starts with my.app. This will collect the events in a table of the same name.
In this case, the event's fields will not be parsed. However, you may parse the fields manually
using the operations available in the search window. For more information about the my.app tag, see this article:
https://docs.devo.com/confluence/ndt/supported-technologies/special-devo-tags-and-data-tables

For further help with this procedure, contact Devo Customer Support at support@devo.com.
